{"ast":null,"code":"import _regeneratorRuntime from\"E:/Web Data/E-commerace/ak-store/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/Web Data/E-commerace/ak-store/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/Web Data/E-commerace/ak-store/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import product from'../Products/Product/Product';import{paper,Stepper,Step,StepLabel,Typography,CircularProgress,Divider,Button}from'@material-ui/core';import useStyles from'./styles';import{commerce}from'../../lib/commerce';import AddressFrom from'./AddressForm';import PaymentForm from'./PaymentForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var steps=['Shipping Address','Payment details'];var Checkout=function Checkout(_ref){var cart=_ref.cart;var classes=useStyles();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),CheckoutToken=_useState2[0],setCheckoutToken=_useState2[1];useEffect(function(){var generatetoken=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var token;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return commerce.checkout.generateToken(cart.id,{type:'cart'});case 3:token=_context.sent;console.log(token.id);setCheckoutToken(token);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function generatetoken(){return _ref2.apply(this,arguments);};}();generatetoken();},[]);var Confirmation=function Confirmation(){/*#__PURE__*/_jsx(\"div\",{children:\"confirmation\"});};var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),activestep=_useState4[0],setActivestep=_useState4[1];var Form=function Form(){return activestep===0?/*#__PURE__*/_jsx(AddressFrom,{cart:cart,CheckoutToken:CheckoutToken}):/*#__PURE__*/_jsx(PaymentForm,{});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:classes.toolbar}),/*#__PURE__*/_jsx(\"main\",{className:classes.layout,children:/*#__PURE__*/_jsxs(\"paper\",{className:classes.paper,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",align:\"center \",children:\"Checkout\"}),/*#__PURE__*/_jsx(Stepper,{activeStep:0,className:classes.stepper,children:steps.map(function(step){return/*#__PURE__*/_jsx(Step,{children:/*#__PURE__*/_jsx(StepLabel,{children:step})},step);})}),activestep===Step.length?/*#__PURE__*/_jsx(Confirmation,{}):CheckoutToken&&/*#__PURE__*/_jsx(Form,{})]})})]});};export default Checkout;","map":{"version":3,"names":["useState","useEffect","product","paper","Stepper","Step","StepLabel","Typography","CircularProgress","Divider","Button","useStyles","commerce","AddressFrom","PaymentForm","steps","Checkout","cart","classes","CheckoutToken","setCheckoutToken","generatetoken","checkout","generateToken","id","type","token","console","log","Confirmation","activestep","setActivestep","Form","toolbar","layout","stepper","map","step","length"],"sources":["E:/Web Data/E-commerace/ak-store/src/components/Checkout/Checkout.jsx"],"sourcesContent":["import {useState, useEffect} from 'react'\r\nimport product from '../Products/Product/Product'\r\nimport {paper, Stepper, Step, StepLabel, Typography, CircularProgress, Divider, Button } from  '@material-ui/core'\r\nimport useStyles from './styles';\r\nimport {commerce} from '../../lib/commerce';\r\nimport AddressFrom from './AddressForm';\r\nimport PaymentForm from './PaymentForm';\r\nconst steps =['Shipping Address','Payment details' ];\r\nconst Checkout = ({cart}) => {\r\n  const classes = useStyles();\r\n  const [CheckoutToken, setCheckoutToken] = useState(null);\r\n  useEffect(()=>{\r\n    const generatetoken = async()=>{\r\n      try {\r\n        const token = await commerce.checkout.generateToken(cart.id, {type:'cart'});\r\n        console.log(token.id);\r\n        setCheckoutToken(token);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n      generatetoken()\r\n    },[])\r\n  const Confirmation =()=>{\r\n    <div>\r\n      confirmation\r\n    </div>\r\n  } \r\n  const [activestep, setActivestep]= useState(0);\r\n  const Form =()=> activestep===0\r\n  ? <AddressFrom  cart={cart} CheckoutToken={CheckoutToken} />:<PaymentForm/>\r\n\r\n  return (\r\n    <>\r\n        <div className={classes.toolbar}/>\r\n        <main className={classes.layout}>\r\n          <paper className={classes.paper}>\r\n              <Typography variant='h4' align='center '>Checkout</Typography>\r\n              <Stepper activeStep={0} className={classes.stepper}>\r\n              {steps.map((step)=>(\r\n                <Step key={step}>\r\n                  <StepLabel>{step}</StepLabel>\r\n                </Step>\r\n              ))}\r\n              </Stepper>\r\n              {activestep===Step.length?<Confirmation/>:CheckoutToken&&<Form/>}\r\n          </paper>\r\n        </main>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Checkout"],"mappings":"kXAAA,OAAQA,QAAQ,CAAEC,SAAS,KAAO,OAAO,CACzC,MAAOC,QAAO,KAAM,6BAA6B,CACjD,OAAQC,KAAK,CAAEC,OAAO,CAAEC,IAAI,CAAEC,SAAS,CAAEC,UAAU,CAAEC,gBAAgB,CAAEC,OAAO,CAAEC,MAAM,KAAS,mBAAmB,CAClH,MAAOC,UAAS,KAAM,UAAU,CAChC,OAAQC,QAAQ,KAAO,oBAAoB,CAC3C,MAAOC,YAAW,KAAM,eAAe,CACvC,MAAOC,YAAW,KAAM,eAAe,CAAC,6IACxC,GAAMC,MAAK,CAAE,CAAC,kBAAkB,CAAC,iBAAiB,CAAE,CACpD,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,MAAe,IAAVC,KAAI,MAAJA,IAAI,CACrB,GAAMC,QAAO,CAAGP,SAAS,EAAE,CAC3B,cAA0CX,QAAQ,CAAC,IAAI,CAAC,wCAAjDmB,aAAa,eAAEC,gBAAgB,eACtCnB,SAAS,CAAC,UAAI,CACZ,GAAMoB,cAAa,6FAAG,qLAEET,SAAQ,CAACU,QAAQ,CAACC,aAAa,CAACN,IAAI,CAACO,EAAE,CAAE,CAACC,IAAI,CAAC,MAAM,CAAC,CAAC,QAArEC,KAAK,eACXC,OAAO,CAACC,GAAG,CAACF,KAAK,CAACF,EAAE,CAAC,CACrBJ,gBAAgB,CAACM,KAAK,CAAC,CAAC,+EAExBC,OAAO,CAACC,GAAG,aAAO,CAAC,oEAEtB,kBARKP,cAAa,2CAQlB,CACCA,aAAa,EAAE,CACjB,CAAC,CAAC,EAAE,CAAC,CACP,GAAMQ,aAAY,CAAE,QAAdA,aAAY,EAAM,CACtB,kDAEM,CACR,CAAC,CACD,eAAmC7B,QAAQ,CAAC,CAAC,CAAC,yCAAvC8B,UAAU,eAAEC,aAAa,eAChC,GAAMC,KAAI,CAAE,QAANA,KAAI,SAAOF,WAAU,GAAG,CAAC,cAC7B,KAAC,WAAW,EAAE,IAAI,CAAEb,IAAK,CAAC,aAAa,CAAEE,aAAc,EAAG,cAAC,KAAC,WAAW,IAAE,GAE3E,mBACE,wCACI,YAAK,SAAS,CAAED,OAAO,CAACe,OAAQ,EAAE,cAClC,aAAM,SAAS,CAAEf,OAAO,CAACgB,MAAO,uBAC9B,eAAO,SAAS,CAAEhB,OAAO,CAACf,KAAM,wBAC5B,KAAC,UAAU,EAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,sBAAsB,cAC9D,KAAC,OAAO,EAAC,UAAU,CAAE,CAAE,CAAC,SAAS,CAAEe,OAAO,CAACiB,OAAQ,UAClDpB,KAAK,CAACqB,GAAG,CAAC,SAACC,IAAI,qBACd,KAAC,IAAI,wBACH,KAAC,SAAS,WAAEA,IAAI,EAAa,EADpBA,IAAI,CAER,EACR,CAAC,EACQ,CACTP,UAAU,GAAGzB,IAAI,CAACiC,MAAM,cAAC,KAAC,YAAY,IAAE,CAACnB,aAAa,eAAE,KAAC,IAAI,IAAE,GAC5D,EACH,GACR,CAEP,CAAC,CAED,cAAeH,SAAQ"},"metadata":{},"sourceType":"module"}